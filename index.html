<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Daily Sādhana Tracker</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Lucide React icons as inline SVG components
    const Calendar = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
        <line x1="16" y1="2" x2="16" y2="6"></line>
        <line x1="8" y1="2" x2="8" y2="6"></line>
        <line x1="3" y1="10" x2="21" y2="10"></line>
      </svg>
    );

    const BarChart3 = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M3 3v18h18"></path>
        <path d="M18 17V9"></path>
        <path d="M13 17V5"></path>
        <path d="M8 17v-3"></path>
      </svg>
    );

    const Sun = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <circle cx="12" cy="12" r="4"></circle>
        <path d="M12 2v2"></path>
        <path d="M12 20v2"></path>
        <path d="m4.93 4.93 1.41 1.41"></path>
        <path d="m17.66 17.66 1.41 1.41"></path>
        <path d="M2 12h2"></path>
        <path d="M20 12h2"></path>
        <path d="m6.34 17.66-1.41 1.41"></path>
        <path d="m19.07 4.93-1.41 1.41"></path>
      </svg>
    );

    const Moon = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path>
      </svg>
    );

    const Flame = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"></path>
      </svg>
    );

    const Circle = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <circle cx="12" cy="12" r="10"></circle>
      </svg>
    );

    const CheckCircle2 = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <circle cx="12" cy="12" r="10"></circle>
        <path d="m9 12 2 2 4-4"></path>
      </svg>
    );

    const BookOpen = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
        <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
      </svg>
    );

    const Flower2 = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M12 7.5a4.5 4.5 0 1 1 4.5 4.5M12 7.5A4.5 4.5 0 1 0 7.5 12M12 7.5V9m-4.5 3a4.5 4.5 0 1 0 4.5 4.5M7.5 12H9m7.5 0a4.5 4.5 0 1 1-4.5 4.5m4.5-4.5H15m-3 4.5V15"></path>
        <circle cx="12" cy="12" r="3"></circle>
        <path d="m8 16 1.5-1.5"></path>
        <path d="M14.5 9.5 16 8"></path>
        <path d="m8 8 1.5 1.5"></path>
        <path d="M14.5 14.5 16 16"></path>
      </svg>
    );

    const User = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
        <circle cx="12" cy="7" r="4"></circle>
      </svg>
    );

    const LogOut = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
        <polyline points="16 17 21 12 16 7"></polyline>
        <line x1="21" y1="12" x2="9" y2="12"></line>
      </svg>
    );

    const Download = (props) => (
      <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="7 10 12 15 17 10"></polyline>
        <line x1="12" y1="15" x2="12" y2="3"></line>
      </svg>
    );

    // Storage wrapper for persistent data
    const useStorage = (key, initialValue) => {
      const [value, setValue] = useState(() => {
        if (typeof window === 'undefined') return initialValue;
        try {
          const stored = window.localStorage.getItem(key);
          return stored ? JSON.parse(stored) : initialValue;
        } catch (error) {
          console.error('Error reading from localStorage:', error);
          return initialValue;
        }
      });

      useEffect(() => {
        if (typeof window === 'undefined') return;
        try {
          window.localStorage.setItem(key, JSON.stringify(value));
        } catch (error) {
          console.error('Error writing to localStorage:', error);
        }
      }, [key, value]);

      return [value, setValue];
    };

    const SadhanaTracker = () => {
      const [currentUser, setCurrentUser] = useStorage('currentUser', null);
      const [users, setUsers] = useStorage('users', []);
      const [entries, setEntries] = useStorage('entries', []);
      const [view, setView] = useState('dashboard');
      
      // Registration/Login state
      const [authMode, setAuthMode] = useState('login');
      const [formData, setFormData] = useState({
        name: '',
        email: '',
        password: '',
        group: ''
      });

      // Entry form state
      const [entryForm, setEntryForm] = useState({
        chantingRounds: '',
        aarti: '',
        guruPuja: false,
        tulasiArati: false,
        readingBook: '',
        readingMinutes: '',
        readingPages: '',
        activityTime: 'morning'
      });

      // Report filters
      const [reportFilters, setReportFilters] = useState({
        period: 'week',
        viewType: 'individual',
        selectedGroup: 'all'
      });

      const groups = ['Bhakta Class', 'Congregation Group', 'Advanced Study Group', 'Youth Group'];

      // Authentication handlers
      const handleAuth = (e) => {
        e.preventDefault();
        
        if (authMode === 'register') {
          const newUser = {
            id: Date.now().toString(),
            name: formData.name,
            email: formData.email,
            password: formData.password,
            group: formData.group,
            createdAt: new Date().toISOString()
          };
          
          const updatedUsers = [...users, newUser];
          setUsers(updatedUsers);
          setCurrentUser(newUser);
          setFormData({ name: '', email: '', password: '', group: '' });
        } else {
          const user = users.find(u => u.email === formData.email && u.password === formData.password);
          if (user) {
            setCurrentUser(user);
            setFormData({ name: '', email: '', password: '', group: '' });
          } else {
            alert('Invalid credentials. Please check your email and password.');
          }
        }
      };

      const handleLogout = () => {
        setCurrentUser(null);
        setView('dashboard');
      };

      // Entry handlers
      const handleEntrySubmit = (e) => {
        e.preventDefault();
        
        const today = new Date().toISOString().split('T')[0];
        const existingEntry = entries.find(
          e => e.userId === currentUser.id && 
          e.date === today && 
          e.activityTime === entryForm.activityTime
        );

        if (existingEntry) {
          alert('You have already logged this activity for this time period today.');
          return;
        }

        const newEntry = {
          id: Date.now().toString(),
          userId: currentUser.id,
          date: today,
          timestamp: new Date().toISOString(),
          ...entryForm
        };

        setEntries([...entries, newEntry]);
        setEntryForm({
          chantingRounds: '',
          aarti: '',
          guruPuja: false,
          tulasiArati: false,
          readingBook: '',
          readingMinutes: '',
          readingPages: '',
          activityTime: 'morning'
        });
        setView('dashboard');
      };

      // Statistics calculations
      const getStreak = () => {
        const userEntries = entries
          .filter(e => e.userId === currentUser?.id)
          .sort((a, b) => new Date(b.date) - new Date(a.date));
        
        let streak = 0;
        const today = new Date().toISOString().split('T')[0];
        let currentDate = new Date(today);
        
        for (let entry of userEntries) {
          const entryDate = entry.date;
          const currentDateStr = currentDate.toISOString().split('T')[0];
          
          if (entryDate === currentDateStr) {
            streak++;
            currentDate.setDate(currentDate.getDate() - 1);
          } else {
            break;
          }
        }
        
        return streak;
      };

      const getTodayStats = () => {
        const today = new Date().toISOString().split('T')[0];
        const todayEntries = entries.filter(
          e => e.userId === currentUser?.id && e.date === today
        );
        
        return {
          totalRounds: todayEntries.reduce((sum, e) => sum + (parseInt(e.chantingRounds) || 0), 0),
          aartiDone: todayEntries.some(e => e.aarti && e.aarti !== 'none'),
          guruPujaDone: todayEntries.some(e => e.guruPuja),
          tulasiDone: todayEntries.some(e => e.tulasiArati),
          readingMinutes: todayEntries.reduce((sum, e) => sum + (parseInt(e.readingMinutes) || 0), 0)
        };
      };

      const getReportData = () => {
        let filteredEntries = entries;
        
        // Filter by user or group
        if (reportFilters.viewType === 'individual') {
          filteredEntries = filteredEntries.filter(e => e.userId === currentUser?.id);
        } else if (reportFilters.selectedGroup !== 'all') {
          const groupUsers = users.filter(u => u.group === reportFilters.selectedGroup);
          filteredEntries = filteredEntries.filter(e => groupUsers.some(u => u.id === e.userId));
        }
        
        // Filter by period
        const now = new Date();
        const periodDays = reportFilters.period === 'week' ? 7 : reportFilters.period === 'month' ? 30 : 1;
        const startDate = new Date(now.getTime() - periodDays * 24 * 60 * 60 * 1000);
        
        filteredEntries = filteredEntries.filter(e => new Date(e.date) >= startDate);
        
        return {
          totalRounds: filteredEntries.reduce((sum, e) => sum + (parseInt(e.chantingRounds) || 0), 0),
          totalReadingMinutes: filteredEntries.reduce((sum, e) => sum + (parseInt(e.readingMinutes) || 0), 0),
          aartiAttendance: (filteredEntries.filter(e => e.aarti && e.aarti !== 'none').length / Math.max(filteredEntries.length, 1) * 100).toFixed(1),
          guruPujaAttendance: (filteredEntries.filter(e => e.guruPuja).length / Math.max(filteredEntries.length, 1) * 100).toFixed(1),
          tulasiAttendance: (filteredEntries.filter(e => e.tulasiArati).length / Math.max(filteredEntries.length, 1) * 100).toFixed(1)
        };
      };

      const exportReport = () => {
        const data = getReportData();
        const csv = [
          'Metric,Value',
          `Total Chanting Rounds,${data.totalRounds}`,
          `Total Reading Minutes,${data.totalReadingMinutes}`,
          `Aarti Attendance,${data.aartiAttendance}%`,
          `Guru Pūjā Attendance,${data.guruPujaAttendance}%`,
          `Tulasi Ārati Attendance,${data.tulasiAttendance}%`
        ].join('\n');
        
        const blob = new Blob([csv], { type: 'text/csv' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `sadhana-report-${new Date().toISOString().split('T')[0]}.csv`;
        a.click();
      };

      if (!currentUser) {
        return (
          <div className="auth-container">
            <div className="auth-card">
              <div className="auth-header">
                <Flower2 className="logo-icon" />
                <h1>Daily Sādhana Tracker</h1>
                <p className="subtitle">Cultivate your devotional practice with mindfulness</p>
              </div>
              
              <div className="auth-tabs">
                <button 
                  className={authMode === 'login' ? 'active' : ''}
                  onClick={() => setAuthMode('login')}
                >
                  Sign In
                </button>
                <button 
                  className={authMode === 'register' ? 'active' : ''}
                  onClick={() => setAuthMode('register')}
                >
                  Register
                </button>
              </div>
              
              <form onSubmit={handleAuth} className="auth-form">
                {authMode === 'register' && (
                  <>
                    <div className="form-group">
                      <label>Name</label>
                      <input
                        type="text"
                        value={formData.name}
                        onChange={(e) => setFormData({...formData, name: e.target.value})}
                        required
                        placeholder="Your name"
                      />
                    </div>
                    
                    <div className="form-group">
                      <label>Group / Class</label>
                      <select
                        value={formData.group}
                        onChange={(e) => setFormData({...formData, group: e.target.value})}
                        required
                      >
                        <option value="">Select your group</option>
                        {groups.map(g => <option key={g} value={g}>{g}</option>)}
                      </select>
                    </div>
                  </>
                )}
                
                <div className="form-group">
                  <label>Email</label>
                  <input
                    type="email"
                    value={formData.email}
                    onChange={(e) => setFormData({...formData, email: e.target.value})}
                    required
                    placeholder="your@email.com"
                  />
                </div>
                
                <div className="form-group">
                  <label>Password</label>
                  <input
                    type="password"
                    value={formData.password}
                    onChange={(e) => setFormData({...formData, password: e.target.value})}
                    required
                    placeholder="••••••••"
                  />
                </div>
                
                <button type="submit" className="submit-btn">
                  {authMode === 'login' ? 'Sign In' : 'Create Account'}
                </button>
              </form>
            </div>
          </div>
        );
      }

      const todayStats = getTodayStats();
      const reportData = getReportData();

      return (
        <div className="app-container">
          <nav className="navbar">
            <div className="nav-brand">
              <Flower2 className="nav-icon" />
              <span>Sādhana Tracker</span>
            </div>
            
            <div className="nav-menu">
              <button 
                className={view === 'dashboard' ? 'active' : ''}
                onClick={() => setView('dashboard')}
              >
                <Sun size={18} />
                Dashboard
              </button>
              <button 
                className={view === 'entry' ? 'active' : ''}
                onClick={() => setView('entry')}
              >
                <Calendar size={18} />
                Log Practice
              </button>
              <button 
                className={view === 'reports' ? 'active' : ''}
                onClick={() => setView('reports')}
              >
                <BarChart3 size={18} />
                Reports
              </button>
            </div>
            
            <div className="nav-user">
              <User size={18} />
              <span>{currentUser.name}</span>
              <button onClick={handleLogout} className="logout-btn">
                <LogOut size={18} />
              </button>
            </div>
          </nav>

          <main className="main-content">
            {view === 'dashboard' && (
              <div className="dashboard">
                <div className="welcome-section">
                  <h2>Namaste, {currentUser.name}</h2>
                  <p className="date-display">{new Date().toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</p>
                </div>

                <div className="stats-grid">
                  <div className="stat-card streak">
                    <div className="stat-icon">
                      <Flame />
                    </div>
                    <div className="stat-content">
                      <h3>{getStreak()} Days</h3>
                      <p>Practice Streak</p>
                    </div>
                  </div>

                  <div className="stat-card rounds">
                    <div className="stat-icon">
                      <Circle />
                    </div>
                    <div className="stat-content">
                      <h3>{todayStats.totalRounds} Rounds</h3>
                      <p>Chanted Today</p>
                    </div>
                  </div>

                  <div className="stat-card reading">
                    <div className="stat-icon">
                      <BookOpen />
                    </div>
                    <div className="stat-content">
                      <h3>{todayStats.readingMinutes} Min</h3>
                      <p>Reading Today</p>
                    </div>
                  </div>
                </div>

                <div className="checklist-card">
                  <h3>Today's Practice</h3>
                  <div className="checklist">
                    <div className={`checklist-item ${todayStats.totalRounds > 0 ? 'completed' : ''}`}>
                      {todayStats.totalRounds > 0 ? <CheckCircle2 /> : <Circle />}
                      <span>Chanting</span>
                    </div>
                    <div className={`checklist-item ${todayStats.aartiDone ? 'completed' : ''}`}>
                      {todayStats.aartiDone ? <CheckCircle2 /> : <Circle />}
                      <span>Aarti</span>
                    </div>
                    <div className={`checklist-item ${todayStats.guruPujaDone ? 'completed' : ''}`}>
                      {todayStats.guruPujaDone ? <CheckCircle2 /> : <Circle />}
                      <span>Guru Pūjā</span>
                    </div>
                    <div className={`checklist-item ${todayStats.tulasiDone ? 'completed' : ''}`}>
                      {todayStats.tulasiDone ? <CheckCircle2 /> : <Circle />}
                      <span>Tulasi Ārati</span>
                    </div>
                    <div className={`checklist-item ${todayStats.readingMinutes > 0 ? 'completed' : ''}`}>
                      {todayStats.readingMinutes > 0 ? <CheckCircle2 /> : <Circle />}
                      <span>Śāstra Reading</span>
                    </div>
                  </div>
                </div>

                <div className="reminder-card">
                  <Moon className="reminder-icon" />
                  <p>"One who is not envious but is a kind friend to all living entities... such a devotee is very dear to Me."</p>
                  <span className="scripture-ref">— Bhagavad Gītā 12.13-14</span>
                </div>
              </div>
            )}

            {view === 'entry' && (
              <div className="entry-view">
                <div className="entry-header">
                  <h2>Log Your Practice</h2>
                  <p>Record your devotional activities with mindfulness</p>
                </div>

                <form onSubmit={handleEntrySubmit} className="entry-form">
                  <div className="form-section">
                    <h3>Activity Time</h3>
                    <div className="time-selector">
                      {['morning', 'afternoon', 'evening', 'night'].map(time => (
                        <button
                          key={time}
                          type="button"
                          className={entryForm.activityTime === time ? 'active' : ''}
                          onClick={() => setEntryForm({...entryForm, activityTime: time})}
                        >
                          {time === 'morning' && <Sun size={16} />}
                          {time === 'afternoon' && <Sun size={16} />}
                          {time === 'evening' && <Moon size={16} />}
                          {time === 'night' && <Moon size={16} />}
                          {time.charAt(0).toUpperCase() + time.slice(1)}
                        </button>
                      ))}
                    </div>
                  </div>

                  <div className="form-section">
                    <h3>Chanting</h3>
                    <div className="form-group">
                      <label>Number of Rounds</label>
                      <input
                        type="number"
                        min="0"
                        value={entryForm.chantingRounds}
                        onChange={(e) => setEntryForm({...entryForm, chantingRounds: e.target.value})}
                        placeholder="e.g., 16"
                      />
                    </div>
                  </div>

                  <div className="form-section">
                    <h3>Temple Activities</h3>
                    <div className="form-group">
                      <label>Aarti Attended</label>
                      <select
                        value={entryForm.aarti}
                        onChange={(e) => setEntryForm({...entryForm, aarti: e.target.value})}
                      >
                        <option value="none">None</option>
                        <option value="mangala">Maṅgala Ārati</option>
                        <option value="darshana">Darśana Ārati</option>
                        <option value="sandhya">Sandhyā Ārati</option>
                        <option value="shayana">Śayana Ārati</option>
                      </select>
                    </div>

                    <div className="checkbox-group">
                      <label>
                        <input
                          type="checkbox"
                          checked={entryForm.guruPuja}
                          onChange={(e) => setEntryForm({...entryForm, guruPuja: e.target.checked})}
                        />
                        <span>Attended Guru Pūjā</span>
                      </label>
                    </div>

                    <div className="checkbox-group">
                      <label>
                        <input
                          type="checkbox"
                          checked={entryForm.tulasiArati}
                          onChange={(e) => setEntryForm({...entryForm, tulasiArati: e.target.checked})}
                        />
                        <span>Attended Tulasi Ārati</span>
                      </label>
                    </div>
                  </div>

                  <div className="form-section">
                    <h3>Śāstra Reading</h3>
                    <div className="form-group">
                      <label>Book / Scripture</label>
                      <input
                        type="text"
                        value={entryForm.readingBook}
                        onChange={(e) => setEntryForm({...entryForm, readingBook: e.target.value})}
                        placeholder="e.g., Bhagavad Gītā"
                      />
                    </div>

                    <div className="form-row">
                      <div className="form-group">
                        <label>Minutes</label>
                        <input
                          type="number"
                          min="0"
                          value={entryForm.readingMinutes}
                          onChange={(e) => setEntryForm({...entryForm, readingMinutes: e.target.value})}
                          placeholder="30"
                        />
                      </div>
                      <div className="form-group">
                        <label>Pages</label>
                        <input
                          type="number"
                          min="0"
                          value={entryForm.readingPages}
                          onChange={(e) => setEntryForm({...entryForm, readingPages: e.target.value})}
                          placeholder="10"
                        />
                      </div>
                    </div>
                  </div>

                  <button type="submit" className="submit-btn">
                    <CheckCircle2 size={20} />
                    Record Practice
                  </button>
                </form>
              </div>
            )}

            {view === 'reports' && (
              <div className="reports-view">
                <div className="reports-header">
                  <h2>Practice Reports</h2>
                  <button onClick={exportReport} className="export-btn">
                    <Download size={18} />
                    Export CSV
                  </button>
                </div>

                <div className="filters-panel">
                  <div className="filter-group">
                    <label>Period</label>
                    <select
                      value={reportFilters.period}
                      onChange={(e) => setReportFilters({...reportFilters, period: e.target.value})}
                    >
                      <option value="day">Today</option>
                      <option value="week">This Week</option>
                      <option value="month">This Month</option>
                    </select>
                  </div>

                  <div className="filter-group">
                    <label>View</label>
                    <select
                      value={reportFilters.viewType}
                      onChange={(e) => setReportFilters({...reportFilters, viewType: e.target.value})}
                    >
                      <option value="individual">Individual</option>
                      <option value="group">Group</option>
                    </select>
                  </div>

                  {reportFilters.viewType === 'group' && (
                    <div className="filter-group">
                      <label>Group</label>
                      <select
                        value={reportFilters.selectedGroup}
                        onChange={(e) => setReportFilters({...reportFilters, selectedGroup: e.target.value})}
                      >
                        <option value="all">All Groups</option>
                        {groups.map(g => <option key={g} value={g}>{g}</option>)}
                      </select>
                    </div>
                  )}
                </div>

                <div className="report-cards">
                  <div className="report-card">
                    <h3>Total Chanting</h3>
                    <div className="report-stat">{reportData.totalRounds}</div>
                    <p>Rounds completed</p>
                  </div>

                  <div className="report-card">
                    <h3>Reading Progress</h3>
                    <div className="report-stat">{reportData.totalReadingMinutes}</div>
                    <p>Minutes of śāstra study</p>
                  </div>

                  <div className="report-card">
                    <h3>Aarti Attendance</h3>
                    <div className="report-stat">{reportData.aartiAttendance}%</div>
                    <p>Consistency rate</p>
                  </div>

                  <div className="report-card">
                    <h3>Guru Pūjā</h3>
                    <div className="report-stat">{reportData.guruPujaAttendance}%</div>
                    <p>Attendance rate</p>
                  </div>

                  <div className="report-card">
                    <h3>Tulasi Ārati</h3>
                    <div className="report-stat">{reportData.tulasiAttendance}%</div>
                    <p>Participation rate</p>
                  </div>
                </div>

                <div className="insight-card">
                  <h3>Practice Insights</h3>
                  <p>Your devotional practice shows steady commitment. Continue to cultivate these spiritual disciplines with patience and sincerity.</p>
                </div>
              </div>
            )}
          </main>

          <style>{`
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }

            body {
              font-family: 'Crimson Text', serif;
              background: linear-gradient(135deg, #fef5e7 0%, #fff8e8 50%, #fdebd0 100%);
              min-height: 100vh;
            }

            .auth-container {
              min-height: 100vh;
              display: flex;
              align-items: center;
              justify-content: center;
              padding: 2rem;
              background: 
                radial-gradient(circle at 20% 30%, rgba(255, 153, 51, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(218, 112, 37, 0.06) 0%, transparent 50%),
                linear-gradient(135deg, #fef5e7 0%, #fff8e8 50%, #fdebd0 100%);
            }

            .auth-card {
              background: rgba(255, 255, 255, 0.95);
              border-radius: 20px;
              padding: 3rem;
              max-width: 480px;
              width: 100%;
              box-shadow: 
                0 20px 60px rgba(218, 112, 37, 0.15),
                0 0 0 1px rgba(218, 112, 37, 0.1);
              border: 2px solid rgba(255, 153, 51, 0.2);
              backdrop-filter: blur(10px);
            }

            .auth-header {
              text-align: center;
              margin-bottom: 2rem;
            }

            .logo-icon {
              width: 60px;
              height: 60px;
              color: #da7025;
              margin-bottom: 1rem;
              animation: gentle-float 3s ease-in-out infinite;
            }

            @keyframes gentle-float {
              0%, 100% { transform: translateY(0px); }
              50% { transform: translateY(-8px); }
            }

            .auth-header h1 {
              font-family: 'Cinzel', serif;
              font-size: 2rem;
              color: #8b4513;
              margin-bottom: 0.5rem;
              font-weight: 600;
              letter-spacing: 0.5px;
            }

            .subtitle {
              font-size: 1rem;
              color: #a0826d;
              font-style: italic;
            }

            .auth-tabs {
              display: flex;
              gap: 1rem;
              margin-bottom: 2rem;
              background: #fef5e7;
              padding: 0.5rem;
              border-radius: 12px;
            }

            .auth-tabs button {
              flex: 1;
              padding: 0.75rem;
              border: none;
              background: transparent;
              color: #8b4513;
              font-family: 'Crimson Text', serif;
              font-size: 1.05rem;
              cursor: pointer;
              border-radius: 8px;
              transition: all 0.3s ease;
              font-weight: 600;
            }

            .auth-tabs button.active {
              background: linear-gradient(135deg, #ff9933, #da7025);
              color: white;
              box-shadow: 0 4px 12px rgba(218, 112, 37, 0.3);
            }

            .auth-form {
              display: flex;
              flex-direction: column;
              gap: 1.25rem;
            }

            .form-group {
              display: flex;
              flex-direction: column;
              gap: 0.5rem;
            }

            .form-group label {
              font-size: 0.95rem;
              color: #8b4513;
              font-weight: 600;
            }

            .form-group input,
            .form-group select {
              padding: 0.875rem 1rem;
              border: 2px solid rgba(218, 112, 37, 0.2);
              border-radius: 10px;
              font-family: 'Crimson Text', serif;
              font-size: 1rem;
              background: white;
              transition: all 0.3s ease;
              color: #5a4235;
            }

            .form-group input:focus,
            .form-group select:focus {
              outline: none;
              border-color: #ff9933;
              box-shadow: 0 0 0 3px rgba(255, 153, 51, 0.1);
            }

            .submit-btn {
              padding: 1rem;
              border: none;
              background: linear-gradient(135deg, #ff9933, #da7025);
              color: white;
              font-family: 'Cinzel', serif;
              font-size: 1.05rem;
              font-weight: 600;
              border-radius: 12px;
              cursor: pointer;
              transition: all 0.3s ease;
              box-shadow: 0 4px 12px rgba(218, 112, 37, 0.3);
              letter-spacing: 0.5px;
              margin-top: 0.5rem;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 0.5rem;
            }

            .submit-btn:hover {
              transform: translateY(-2px);
              box-shadow: 0 6px 20px rgba(218, 112, 37, 0.4);
            }

            .app-container {
              min-height: 100vh;
              display: flex;
              flex-direction: column;
            }

            .navbar {
              background: rgba(255, 255, 255, 0.98);
              padding: 1rem 2rem;
              display: flex;
              align-items: center;
              justify-content: space-between;
              box-shadow: 0 4px 20px rgba(218, 112, 37, 0.1);
              border-bottom: 2px solid rgba(255, 153, 51, 0.2);
              backdrop-filter: blur(10px);
            }

            .nav-brand {
              display: flex;
              align-items: center;
              gap: 0.75rem;
              font-family: 'Cinzel', serif;
              font-size: 1.3rem;
              font-weight: 600;
              color: #8b4513;
            }

            .nav-icon {
              width: 32px;
              height: 32px;
              color: #da7025;
            }

            .nav-menu {
              display: flex;
              gap: 0.5rem;
            }

            .nav-menu button {
              display: flex;
              align-items: center;
              gap: 0.5rem;
              padding: 0.75rem 1.25rem;
              border: none;
              background: transparent;
              color: #8b4513;
              font-family: 'Crimson Text', serif;
              font-size: 1rem;
              cursor: pointer;
              border-radius: 10px;
              transition: all 0.3s ease;
              font-weight: 500;
            }

            .nav-menu button:hover {
              background: rgba(255, 153, 51, 0.1);
            }

            .nav-menu button.active {
              background: linear-gradient(135deg, #ff9933, #da7025);
              color: white;
              box-shadow: 0 4px 12px rgba(218, 112, 37, 0.25);
            }

            .nav-user {
              display: flex;
              align-items: center;
              gap: 0.75rem;
              color: #8b4513;
              font-weight: 500;
            }

            .logout-btn {
              padding: 0.5rem;
              border: none;
              background: rgba(218, 112, 37, 0.1);
              color: #da7025;
              border-radius: 8px;
              cursor: pointer;
              display: flex;
              align-items: center;
              transition: all 0.3s ease;
            }

            .logout-btn:hover {
              background: rgba(218, 112, 37, 0.2);
              transform: translateY(-1px);
            }

            .main-content {
              flex: 1;
              padding: 2rem;
              max-width: 1400px;
              margin: 0 auto;
              width: 100%;
            }

            .dashboard {
              display: flex;
              flex-direction: column;
              gap: 2rem;
            }

            .welcome-section h2 {
              font-family: 'Cinzel', serif;
              font-size: 2.5rem;
              color: #8b4513;
              margin-bottom: 0.5rem;
              font-weight: 600;
            }

            .date-display {
              font-size: 1.1rem;
              color: #a0826d;
              font-style: italic;
            }

            .stats-grid {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
              gap: 1.5rem;
            }

            .stat-card {
              background: white;
              border-radius: 16px;
              padding: 2rem;
              display: flex;
              align-items: center;
              gap: 1.5rem;
              box-shadow: 0 4px 20px rgba(218, 112, 37, 0.1);
              border: 2px solid rgba(255, 153, 51, 0.15);
              transition: all 0.3s ease;
            }

            .stat-card:hover {
              transform: translateY(-4px);
              box-shadow: 0 8px 30px rgba(218, 112, 37, 0.2);
            }

            .stat-icon {
              width: 60px;
              height: 60px;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              flex-shrink: 0;
            }

            .stat-card.streak .stat-icon {
              background: linear-gradient(135deg, #ff9933, #da7025);
              color: white;
            }

            .stat-card.rounds .stat-icon {
              background: linear-gradient(135deg, #fef5e7, #fdebd0);
              color: #da7025;
            }

            .stat-card.reading .stat-icon {
              background: linear-gradient(135deg, #8b4513, #6b3410);
              color: white;
            }

            .stat-content h3 {
              font-family: 'Cinzel', serif;
              font-size: 1.8rem;
              color: #8b4513;
              margin-bottom: 0.25rem;
            }

            .stat-content p {
              color: #a0826d;
              font-size: 1rem;
            }

            .checklist-card {
              background: white;
              border-radius: 16px;
              padding: 2rem;
              box-shadow: 0 4px 20px rgba(218, 112, 37, 0.1);
              border: 2px solid rgba(255, 153, 51, 0.15);
            }

            .checklist-card h3 {
              font-family: 'Cinzel', serif;
              font-size: 1.5rem;
              color: #8b4513;
              margin-bottom: 1.5rem;
            }

            .checklist {
              display: flex;
              flex-direction: column;
              gap: 1rem;
            }

            .checklist-item {
              display: flex;
              align-items: center;
              gap: 1rem;
              padding: 1rem;
              background: #fef5e7;
              border-radius: 12px;
              color: #a0826d;
              transition: all 0.3s ease;
              border: 2px solid transparent;
            }

            .checklist-item.completed {
              background: linear-gradient(135deg, rgba(255, 153, 51, 0.1), rgba(218, 112, 37, 0.05));
              color: #da7025;
              border-color: rgba(255, 153, 51, 0.3);
            }

            .checklist-item svg {
              width: 24px;
              height: 24px;
            }

            .reminder-card {
              background: linear-gradient(135deg, #8b4513, #6b3410);
              border-radius: 16px;
              padding: 2.5rem;
              color: white;
              position: relative;
              overflow: hidden;
              box-shadow: 0 8px 30px rgba(139, 69, 19, 0.3);
            }

            .reminder-card::before {
              content: '';
              position: absolute;
              top: -50%;
              right: -10%;
              width: 300px;
              height: 300px;
              background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
              border-radius: 50%;
            }

            .reminder-icon {
              width: 40px;
              height: 40px;
              margin-bottom: 1rem;
              opacity: 0.8;
            }

            .reminder-card p {
              font-size: 1.3rem;
              line-height: 1.6;
              margin-bottom: 1rem;
              font-style: italic;
              position: relative;
            }

            .scripture-ref {
              font-size: 0.95rem;
              opacity: 0.8;
              position: relative;
            }

            .entry-view {
              max-width: 800px;
              margin: 0 auto;
            }

            .entry-header {
              text-align: center;
              margin-bottom: 2rem;
            }

            .entry-header h2 {
              font-family: 'Cinzel', serif;
              font-size: 2.5rem;
              color: #8b4513;
              margin-bottom: 0.5rem;
            }

            .entry-header p {
              font-size: 1.1rem;
              color: #a0826d;
              font-style: italic;
            }

            .entry-form {
              background: white;
              border-radius: 20px;
              padding: 2.5rem;
              box-shadow: 0 8px 30px rgba(218, 112, 37, 0.15);
              border: 2px solid rgba(255, 153, 51, 0.2);
            }

            .form-section {
              margin-bottom: 2rem;
              padding-bottom: 2rem;
              border-bottom: 2px solid rgba(218, 112, 37, 0.1);
            }

            .form-section:last-of-type {
              border-bottom: none;
            }

            .form-section h3 {
              font-family: 'Cinzel', serif;
              font-size: 1.3rem;
              color: #8b4513;
              margin-bottom: 1rem;
            }

            .time-selector {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
              gap: 0.75rem;
            }

            .time-selector button {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 0.5rem;
              padding: 0.875rem;
              border: 2px solid rgba(218, 112, 37, 0.2);
              background: white;
              color: #8b4513;
              font-family: 'Crimson Text', serif;
              font-size: 1rem;
              border-radius: 10px;
              cursor: pointer;
              transition: all 0.3s ease;
              font-weight: 500;
            }

            .time-selector button:hover {
              border-color: #ff9933;
              background: rgba(255, 153, 51, 0.05);
            }

            .time-selector button.active {
              background: linear-gradient(135deg, #ff9933, #da7025);
              color: white;
              border-color: transparent;
              box-shadow: 0 4px 12px rgba(218, 112, 37, 0.3);
            }

            .form-row {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 1rem;
            }

            .checkbox-group {
              margin-top: 0.75rem;
            }

            .checkbox-group label {
              display: flex;
              align-items: center;
              gap: 0.75rem;
              padding: 0.875rem;
              background: #fef5e7;
              border-radius: 10px;
              cursor: pointer;
              transition: all 0.3s ease;
              border: 2px solid transparent;
            }

            .checkbox-group label:hover {
              background: rgba(255, 153, 51, 0.1);
              border-color: rgba(255, 153, 51, 0.3);
            }

            .checkbox-group input[type="checkbox"] {
              width: 20px;
              height: 20px;
              cursor: pointer;
              accent-color: #da7025;
            }

            .checkbox-group span {
              font-size: 1rem;
              color: #8b4513;
            }

            .reports-view {
              display: flex;
              flex-direction: column;
              gap: 2rem;
            }

            .reports-header {
              display: flex;
              align-items: center;
              justify-content: space-between;
            }

            .reports-header h2 {
              font-family: 'Cinzel', serif;
              font-size: 2.5rem;
              color: #8b4513;
            }

            .export-btn {
              display: flex;
              align-items: center;
              gap: 0.5rem;
              padding: 0.875rem 1.5rem;
              border: 2px solid #da7025;
              background: white;
              color: #da7025;
              font-family: 'Crimson Text', serif;
              font-size: 1rem;
              font-weight: 600;
              border-radius: 12px;
              cursor: pointer;
              transition: all 0.3s ease;
            }

            .export-btn:hover {
              background: #da7025;
              color: white;
              transform: translateY(-2px);
              box-shadow: 0 4px 12px rgba(218, 112, 37, 0.3);
            }

            .filters-panel {
              display: flex;
              gap: 1rem;
              flex-wrap: wrap;
              background: white;
              padding: 1.5rem;
              border-radius: 16px;
              box-shadow: 0 4px 20px rgba(218, 112, 37, 0.1);
              border: 2px solid rgba(255, 153, 51, 0.15);
            }

            .filter-group {
              flex: 1;
              min-width: 200px;
              display: flex;
              flex-direction: column;
              gap: 0.5rem;
            }

            .filter-group label {
              font-size: 0.9rem;
              color: #8b4513;
              font-weight: 600;
            }

            .filter-group select {
              padding: 0.75rem;
              border: 2px solid rgba(218, 112, 37, 0.2);
              border-radius: 10px;
              font-family: 'Crimson Text', serif;
              font-size: 1rem;
              background: white;
              color: #5a4235;
              cursor: pointer;
              transition: all 0.3s ease;
            }

            .filter-group select:focus {
              outline: none;
              border-color: #ff9933;
              box-shadow: 0 0 0 3px rgba(255, 153, 51, 0.1);
            }

            .report-cards {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
              gap: 1.5rem;
            }

            .report-card {
              background: white;
              border-radius: 16px;
              padding: 2rem;
              text-align: center;
              box-shadow: 0 4px 20px rgba(218, 112, 37, 0.1);
              border: 2px solid rgba(255, 153, 51, 0.15);
              transition: all 0.3s ease;
            }

            .report-card:hover {
              transform: translateY(-4px);
              box-shadow: 0 8px 30px rgba(218, 112, 37, 0.2);
            }

            .report-card h3 {
              font-family: 'Cinzel', serif;
              font-size: 1.1rem;
              color: #8b4513;
              margin-bottom: 1rem;
              font-weight: 600;
            }

            .report-stat {
              font-family: 'Cinzel', serif;
              font-size: 2.5rem;
              color: #da7025;
              font-weight: 700;
              margin-bottom: 0.5rem;
            }

            .report-card p {
              color: #a0826d;
              font-size: 0.95rem;
            }

            .insight-card {
              background: linear-gradient(135deg, rgba(255, 153, 51, 0.1), rgba(218, 112, 37, 0.05));
              border-radius: 16px;
              padding: 2rem;
              border: 2px solid rgba(255, 153, 51, 0.3);
            }

            .insight-card h3 {
              font-family: 'Cinzel', serif;
              font-size: 1.5rem;
              color: #8b4513;
              margin-bottom: 1rem;
            }

            .insight-card p {
              color: #6b3410;
              font-size: 1.1rem;
              line-height: 1.6;
            }

            @media (max-width: 768px) {
              .navbar {
                flex-direction: column;
                gap: 1rem;
                padding: 1rem;
              }

              .nav-menu {
                width: 100%;
                justify-content: center;
              }

              .nav-menu button {
                flex: 1;
                justify-content: center;
              }

              .main-content {
                padding: 1rem;
              }

              .welcome-section h2 {
                font-size: 2rem;
              }

              .stats-grid {
                grid-template-columns: 1fr;
              }

              .form-row {
                grid-template-columns: 1fr;
              }

              .time-selector {
                grid-template-columns: 1fr 1fr;
              }

              .reports-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
              }
            }
          `}</style>
        </div>
      );
    };

    ReactDOM.render(<SadhanaTracker />, document.getElementById('root'));
  </script>
</body>
</html>
